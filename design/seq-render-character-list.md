# Sequence: Render Character List

**Source Spec:** specs/ui.characters.md
**Use Case:** Display list of all characters with cards

## Participants

- **User**: Person using the application
- **Router**: URL-based navigation
- **CharacterManagerView**: Character list view
- **CharacterStorageService**: Character persistence
- **TemplateEngine**: HTML template renderer
- **CharacterCalculations**: Calculate derived stats

## Sequence

```
       â”Œâ”€â”
       â•‘"â”‚
       â””â”¬â”˜
       â”Œâ”¼â”
        â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”Œâ”´â”                   â”‚Routerâ”‚                         â”‚CharacterManagerViewâ”‚                        â”‚CharacterStorageServiceâ”‚          â”‚ProfileServiceâ”‚           â”‚CharacterVersioningâ”‚          â”‚TemplateEngineâ”‚           â”‚CharacterCalculationsâ”‚
      User                   â””â”€â”€â”€â”¬â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        navigate to /characters â”Œâ”´â”                                      â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ â”‚                                      â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚                                      â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚ â”€â”€â”€â”€â”                                â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚     â”‚ history.pushState()            â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚ <â”€â”€â”€â”˜                                â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚                                      â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚ â”€â”€â”€â”€â”                                â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚     â”‚ handleRoute('/characters')     â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â”‚ â”‚ <â”€â”€â”€â”˜                                â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                       â””â”¬â”˜                                      â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚               create                 â”Œâ”´â”                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ â”€â”€â”€â”€â”                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚     â”‚ loadCharacters()                      â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ <â”€â”€â”€â”˜                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚             getAllCharacters()             â”Œâ”´â”                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ â”‚                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚    getItem(STORAGE_KEY)     â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚ â”€â”€â”€â”€â”                       â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚     â”‚ parse JSON array      â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚ <â”€â”€â”€â”˜                       â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â”‚ â”‚                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                       â•”â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—        â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                       â•‘ LOOP  â”‚  for each character                        â”‚                            â”‚                   â•‘        â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                       â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚                             â”‚                            â”‚                   â•‘        â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                       â•‘                    â”‚ â”‚                validateAndFixCharacter()                 â”‚                   â•‘        â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                       â•‘                    â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â•‘        â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                       â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•        â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                            â””â”¬â”˜                             â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                characters[]                 â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ <â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ â”€â”€â”€â”€â”                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚     â”‚ render()                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ <â”€â”€â”€â”˜                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                           renderTemplateFromFile('character-list-header')               â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ â”€â”€â”€â”€â”                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚     â”‚ renderCharacterListWithFallback()     â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚ <â”€â”€â”€â”˜                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                      â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚        â•”â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â”‚                        â”‚        â•‘ LOOP  â”‚  for each character â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚ â”€â”€â”€â”€â”                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚     â”‚ renderCharacterCard(character)        â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚ <â”€â”€â”€â”˜                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚ â”€â”€â”€â”€â”                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚     â”‚ check renderCache                     â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚ <â”€â”€â”€â”˜                                       â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘                             â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                              â•‘
        â”‚                        â”‚        â•‘         â•”â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—         â•‘
        â”‚                        â”‚        â•‘         â•‘ OPT  â”‚  not cachedâ”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•Ÿâ”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚                         calculateAvailableXP()            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚                       calculateDamageCapacity()           â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚                           calculateSpentXP()              â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â”‚ â”‚                                             â”‚  renderTemplate('character-card', data)                   â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                   â””â”¬â”˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                    â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                    â”‚â”€â”€â”€â”€â”                                         â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                    â”‚    â”‚ cache result                            â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•‘                    â”‚<â”€â”€â”€â”˜                                         â”‚                              â”‚                            â”‚                            â”‚                             â”‚                    â•‘         â•‘
        â”‚                        â”‚        â•‘         â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•         â•‘
        â”‚                        â”‚        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        â”‚                        â”‚                                       â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                       â”‚                                              â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                       â”‚â”€â”€â”€â”€â”                                         â”‚                              â”‚                            â”‚                            â”‚                             â”‚
        â”‚                        â”‚                                       â”‚    â”‚ setupListEventListeners()               â”‚                              â”‚                            â”‚                            â”‚                             â”‚
      User                   â”Œâ”€â”€â”€â”´â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´<â”€â”€â”€â”˜                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”Œâ”€â”                   â”‚Routerâ”‚                         â”‚CharacterManagerViewâ”‚                        â”‚CharacterStorageServiceâ”‚          â”‚ProfileServiceâ”‚           â”‚CharacterVersioningâ”‚          â”‚TemplateEngineâ”‚           â”‚CharacterCalculationsâ”‚
       â•‘"â”‚                   â””â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â””â”¬â”˜
       â”Œâ”¼â”
        â”‚
       â”Œâ”´â”
```

## Current Implementation vs Spec

**âœ… Correctly implemented:**
- All characters loaded from storage
- Character cards rendered with stats
- Render caching for performance
- Error handling with fallback UI
- Event listeners for click/delete
- Add Character button at bottom

**âœ… Matches spec:**
- Character card list entries showing:
  - Character name inline âœ“
  - rank, xp, dc, dust bottom-aligned âœ“
  - Physical attrs (DEX, STR, CON) âœ“
  - Social attrs (CHA, WIS, GRI) âœ“
  - Mental attrs (INT, PER) âœ“
- Delete button (ğŸ’€ skull and crossbones) on right âœ“
- Add Character button at bottom âœ“
- Click character to edit âœ“

**ğŸ“ Render caching strategy:**
- Cards cached by character hash
- Cache invalidated when character changes
- Improves performance for large lists
- Cache cleared on profile switch

**ğŸ“ Virtual scrolling (if many characters):**
- For > 100 characters, uses virtual scrolling
- Only renders visible cards
- Improves performance for large lists

## Implementation Notes

**Character Card Layout:**
```html
<div class="character-card" data-id="{{id}}">
  <div class="card-header">
    <span class="character-name">{{name}}</span>
    <button class="delete-btn" aria-label="Delete {{name}}">ğŸ’€</button>
  </div>
  <div class="card-stats">
    <span>Rank: {{rank}}</span>
    <span>XP: {{xp}}</span>
    <span>DC: {{dc}}</span>
    <span>Dust: {{dust}}</span>
  </div>
  <div class="card-attributes">
    <div class="attr-group physical">
      <label>ğŸ’ª Physical:</label>
      <span>DEX {{dex}} STR {{str}} CON {{con}}</span>
    </div>
    <div class="attr-group social">
      <label>ğŸ—£ï¸ Social:</label>
      <span>CHA {{cha}} WIS {{wis}} GRI {{gri}}</span>
    </div>
    <div class="attr-group mental">
      <label>ğŸ§  Mental:</label>
      <span>INT {{int}} PER {{per}}</span>
    </div>
  </div>
</div>
```

**Debounced Re-render:**
- Changes trigger debouncedRender() (250ms threshold per ui.md)
- Prevents excessive re-renders on rapid changes
- Queues pending updates if already rendering

## Notes

- All characters loaded on view init (not lazy loaded)
- Derived stats calculated per card (XP, DC)
- Render caching based on character data hash
- Delete button stops event propagation (doesn't trigger card click)
- Add button creates new character and navigates to editor
- Virtual scrolling kicks in for > 100 characters

## Related CRC Cards

- crc-CharacterManagerView.md
- crc-CharacterStorageService.md (Phase 1)
- crc-CharacterCalculations.md (Phase 1)
- crc-TemplateEngine.md
- crc-Router.md

