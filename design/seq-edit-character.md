# Sequence: Edit Character

**Source Spec:** ui.characters.md
**Use Case:** User navigates to character editor from character list

## Participants

- **User**: Person using the application
- **CharacterManagerView**: Character list view
- **Router**: URL-based navigation system
- **CharacterEditorView**: Character editor view
- **CharacterStorageService**: Character persistence
- **CharacterSheet**: Embedded sheet renderer
- **TemplateEngine**: HTML template renderer
- **calculateCharacterHash**: Hash utility

## Sequence

```
       â”Œâ”€â”
       â•‘"â”‚
       â””â”¬â”˜
       â”Œâ”¼â”
        â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”Œâ”€â”€â”€â”€â”€â”€â”                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”Œâ”´â”            â”‚CharacterManagerViewâ”‚                               â”‚Routerâ”‚                             â”‚CharacterEditorViewâ”‚                          â”‚TemplateEngineâ”‚           â”‚CharacterStorageServiceâ”‚          â”‚ProfileServiceâ”‚           â”‚CharacterVersioningâ”‚          â”‚CharacterSheetâ”‚              â”‚calculateCharacterHashâ”‚
      User            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â””â”€â”€â”€â”¬â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚click character card   â”Œâ”´â”                                            â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ â”‚                                            â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚ â”€â”€â”€â”€â”                                      â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚     â”‚ setupListEventListeners()            â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚ <â”€â”€â”€â”˜                                      â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚ â”€â”€â”€â”€â”                                      â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚     â”‚ onCharacterSelected(characterId)     â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚ <â”€â”€â”€â”˜                                      â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚    navigate(/character/${characterId})    â”Œâ”´â”                                         â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ â”‚                                         â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚                                         â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚ â”€â”€â”€â”€â”                                   â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚     â”‚ history.pushState()               â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚ <â”€â”€â”€â”˜                                   â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚                                         â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚ â”€â”€â”€â”€â”                                   â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚     â”‚ handleRoute('/character/:id')     â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â”‚ â”‚ <â”€â”€â”€â”˜                                   â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                           â””â”¬â”˜                                         â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                create                   â”Œâ”´â”                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ â”€â”€â”€â”€â”                                     â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚     â”‚ render()                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ <â”€â”€â”€â”˜                                     â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ renderTemplateFromFile('character-editor')â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                            getCharacter(id)                             â”Œâ”´â”                             â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ â”‚                             â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â”‚ â”‚                             â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â”‚ â”‚    getItem(STORAGE_KEY)     â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â”‚ â”‚                             â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â”‚ â”‚                validateAndFixCharacter()                 â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                             â””â”¬â”˜                             â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                 character â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ <â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ â”€â”€â”€â”€â”                                     â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚     â”‚ setCharacter(character)             â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ <â”€â”€â”€â”˜                                     â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚       calculateCharacterHash(character)                   â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚             originalCharacterHash                         â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ <â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                            create(character)                â”‚                            â”‚                           â”Œâ”´â”                                â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ â”‚                                â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚                                â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚ â”€â”€â”€â”€â”                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚     â”‚ render()                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚ <â”€â”€â”€â”˜                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚                                â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚ â”€â”€â”€â”€â”                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚     â”‚ renderAttributes()       â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚ <â”€â”€â”€â”˜                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚                                â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚ â”€â”€â”€â”€â”                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚     â”‚ renderSkills()           â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â”‚ â”‚ <â”€â”€â”€â”˜                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                           â””â”¬â”˜ â”€â”€â”€â”€â”                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚      â”‚ renderBenefits()         â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚  <â”€â”€â”€â”˜                          â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚ â”€â”€â”€â”€â”                           â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚     â”‚ renderEquipment()         â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚ <â”€â”€â”€â”˜                           â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â”‚ â”‚                                            â”‚                                         â”‚ â”‚                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                       â””â”¬â”˜                                            â”‚                                         â””â”¬â”˜                                           â”‚                              â”‚                              â”‚                            â”‚                            â”‚ â”€â”€â”€â”€â”                           â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚     â”‚ setupActionButtons()      â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚                                            â”‚                              â”‚                              â”‚                            â”‚                            â”‚ <â”€â”€â”€â”˜                           â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚â”€â”€â”€â”€â”                            â•”â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚    â”‚ setupEventListeners()      â•‘Yep â†’ saveCharacter()  â–‘â•‘                â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚<â”€â”€â”€â”˜                            â•‘Nope â†’ revertChanges()  â•‘                â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚                                 â•‘Back â†’ history.back()   â•‘                â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚                                 â•šâ•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚                                 â•”â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—   â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚â”€â”€â”€â”€â”                            â•‘setInterval(detectChanges, 250ms)   â–‘â•‘   â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
        â”‚                        â”‚                                             â”‚                                          â”‚    â”‚ setupChangeTracking()      â•‘compare hash â†’ updateButtonStates()  â•‘   â”‚                              â”‚                            â”‚                            â”‚                                 â”‚
      User            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”Œâ”€â”€â”€â”´â”€â”€â”                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´<â”€â”€â”€â”˜                            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”Œâ”€â”            â”‚CharacterManagerViewâ”‚                               â”‚Routerâ”‚                             â”‚CharacterEditorViewâ”‚                          â”‚TemplateEngineâ”‚           â”‚CharacterStorageServiceâ”‚          â”‚ProfileServiceâ”‚           â”‚CharacterVersioningâ”‚          â”‚CharacterSheetâ”‚              â”‚calculateCharacterHashâ”‚
       â•‘"â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â””â”€â”€â”€â”€â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â””â”¬â”˜
       â”Œâ”¼â”
        â”‚
       â”Œâ”´â”
```

## Current Implementation vs Spec

**âœ… Correctly implemented:**
- Navigation via Router with URL params
- Character loaded from storage with validation
- Hash-based change detection initialized
- CharacterSheet embedded in editor
- Template-based rendering
- 250ms polling for changes

**âœ… Matches spec:**
- Click character to edit âœ“
- Navigate to character editor view âœ“
- Load character from storage using UUID in URL path âœ“
- Browser back button integration âœ“

**ğŸ“ Implementation details:**
- Editor uses hash to track if character modified
- Change detection polls every 250ms (per ui.md)
- Yep/Nope buttons disabled until changes detected
- CharacterSheet delegates rendering to sub-components

## Notes

- Character ID passed via URL parameter (e.g., `/character/abc-123`)
- Browser history updated so back button works
- Hash calculated on load to detect subsequent changes
- Sheet renders immediately but buttons disabled until changes
- All HTML in templates (no HTML strings in TypeScript)

## Related CRC Cards

- crc-CharacterManagerView.md
- crc-Router.md
- crc-CharacterEditorView.md
- crc-CharacterSheet.md
- crc-CharacterStorageService.md (Phase 1)
- crc-TemplateEngine.md

